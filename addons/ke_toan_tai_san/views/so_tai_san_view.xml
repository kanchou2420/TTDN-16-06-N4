<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Sổ Tài Sản List View -->
        <record id="view_so_tai_san_tree" model="ir.ui.view">
            <field name="name">so_tai_san.tree</field>
            <field name="model">so_tai_san</field>
            <field name="arch" type="xml">
                <tree string="Danh sách sổ tài sản">
                    <field name="name"/>
                    <field name="thang"/>
                    <field name="nam"/>
                    <field name="tong_gia_tri_ban_dau" sum="Tổng"/>
                    <field name="tong_khau_hao_luy_ke" sum="Tổng"/>
                    <field name="tong_gia_tri_con_lai" sum="Tổng"/>
                    <field name="trang_thai"/>
                </tree>
            </field>
        </record>

        <!-- Sổ Tài Sản Form View -->
        <record id="view_so_tai_san_form" model="ir.ui.view">
            <field name="name">so_tai_san.form</field>
            <field name="model">so_tai_san</field>
            <field name="arch" type="xml">
                <form string="Sổ tài sản">
                    <header>
                        <button name="action_calculate_depreciation" string="Tính khấu hao" 
                            type="object" class="btn btn-primary" states="draft"/>
                        <field name="trang_thai" widget="statusbar"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1><field name="name" readonly="1"/></h1>
                        </div>

                        <group>
                            <group>
                                <field name="ngay_lap"/>
                                <field name="thang" required="1"/>
                                <field name="nam" required="1"/>
                            </group>
                            <group>
                                <field name="tong_gia_tri_ban_dau" readonly="1" widget="monetary"/>
                                <field name="tong_khau_hao_luy_ke" readonly="1" widget="monetary"/>
                                <field name="tong_gia_tri_con_lai" readonly="1" widget="monetary"/>
                            </group>
                        </group>

                        <field name="tai_san_ids">
                            <tree string="Chi tiết tài sản">
                                <field name="ma_tai_san"/>
                                <field name="ten_tai_san"/>
                                <field name="gia_tri_ban_dau" sum="Tổng"/>
                                <field name="khau_hao_luy_ke" sum="Tổng"/>
                                <field name="gia_tri_con_lai" sum="Tổng"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Sổ Tài Sản Action -->
        <record id="action_so_tai_san" model="ir.actions.act_window">
            <field name="name">Sổ Tài Sản</field>
            <field name="res_model">so_tai_san</field>
            <field name="view_mode">tree,form</field>
            <field name="help">Bảng cân đối tài sản - Giá trị ban đầu, khấu hao, còn lại</field>
        </record>
    </data>
</odoo>
